<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>الالتزامات الشهرية - تفاعلي</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f4f4f4;
      padding: 40px;
      direction: rtl;
      color: #222;
    }

    .container {
      max-width: 900px;
      margin: auto;
      background-color: #fff;
      padding: 25px;
      border: 1px solid #ccc;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }

    .title {
      text-align: center;
      font-size: 22px;
      color: darkred;
      font-weight: bold;
    }

    .name {
      text-align: center;
      margin: 10px 0;
    }

    .name input {
      width: 60%;
      padding: 8px;
      font-size: 16px;
      text-align: center;
      border: 1px solid #0077cc;
      border-radius: 6px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      margin-bottom: 20px;
    }

    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: center;
    }

    th {
      background-color: #004d4d;
      color: white;
    }

    input[type="text"], input[type="number"], select {
      width: 100%;
      padding: 6px;
      box-sizing: border-box;
      text-align: center;
    }

    .summary {
      border-top: 2px solid #004d4d;
      padding-top: 15px;
      font-size: 16px;
    }

    .summary div {
      margin: 8px 0;
    }

    .total, .salary, .net {
      color: #0077cc;
      font-weight: bold;
    }

    .btn-container {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }

    .btn {
      background-color: #004d4d;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 15px;
      transition: background 0.3s;
    }

    .btn:hover {
      background-color: #006666;
    }

    @media print {
      .btn-container {
        display: none;
      }

      input, select {
        border: none;
        pointer-events: none;
        background: none;
      }

      .name input {
        border: none;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <div class="title">الالتزامات الشهرية</div>

  <!-- ✅ Editable Name -->
  <div class="name">
    <input type="text" id="userName" placeholder="أدخل اسمك هنا">
  </div>

  <div style="text-align: center; margin-bottom: 10px;">(يمكنك التعديل أو الإضافة)</div>

  <table id="commitmentsTable">
    <thead>
      <tr>
        <th>نوع الالتزام</th>
        <th>مبلغ القسط (ر.س)</th>
        <th>تم الدفع</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><input type="text" value="تمويل شخصي"></td>
        <td><input type="number" value="1600" min="0" onchange="calculateTotals()"></td>
        <td>
          <select onchange="calculateTotals()">
            <option value="TRUE" selected>TRUE</option>
            <option value="FALSE">FALSE</option>
          </select>
        </td>
      </tr>
      <tr>
        <td><input type="text" value="تمويل شخصي"></td>
        <td><input type="number" value="726" min="0" onchange="calculateTotals()"></td>
        <td>
          <select onchange="calculateTotals()">
            <option value="TRUE" selected>TRUE</option>
            <option value="FALSE">FALSE</option>
          </select>
        </td>
      </tr>
      <tr>
        <td><input type="text" value="تمويل سيارة"></td>
        <td><input type="number" value="1065" min="0" onchange="calculateTotals()"></td>
        <td>
          <select onchange="calculateTotals()">
            <option value="TRUE" selected>TRUE</option>
            <option value="FALSE">FALSE</option>
          </select>
        </td>
      </tr>
      <tr>
        <td><input type="text" value="انترنت بافوت"></td>
        <td><input type="number" value="125" min="0" onchange="calculateTotals()"></td>
        <td>
          <select onchange="calculateTotals()">
            <option value="TRUE" selected>TRUE</option>
            <option value="FALSE">FALSE</option>
          </select>
        </td>
      </tr>
      <tr>
        <td><input type="text" value="فاتورة كهرب"></td>
        <td><input type="number" value="530" min="0" onchange="calculateTotals()"></td>
        <td>
          <select onchange="calculateTotals()">
            <option value="TRUE" selected>TRUE</option>
            <option value="FALSE">FALSE</option>
          </select>
        </td>
      </tr>
      <tr>
        <td><input type="text" value="فاتورة انترنت فايبر"></td>
        <td><input type="number" value="286" min="0" onchange="calculateTotals()"></td>
        <td>
          <select onchange="calculateTotals()">
            <option value="TRUE" selected>TRUE</option>
            <option value="FALSE">FALSE</option>
          </select>
        </td>
      </tr>
      <tr>
        <td><input type="text" value="نابي"></td>
        <td><input type="number" value="0" min="0" onchange="calculateTotals()"></td>
        <td>
          <select onchange="calculateTotals()">
            <option value="TRUE" selected>TRUE</option>
            <option value="FALSE">FALSE</option>
          </select>
        </td>
      </tr>
      <tr>
        <td><input type="text" value="تمارا"></td>
        <td><input type="number" value="252" min="0" onchange="calculateTotals()"></td>
        <td>
          <select onchange="calculateTotals()">
            <option value="TRUE" selected>TRUE</option>
            <option value="FALSE">FALSE</option>
          </select>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="summary">
    <div class="total">الإجمالي: <span id="total">0</span> ر.س</div>
    <div class="salary">
      الراتب الشهري:
      <input type="number" id="salaryInput" value="5500" min="0" onchange="calculateTotals()"> ر.س
    </div>
    <div class="net">صافي الراتب: <span id="net">0</span> ر.س</div>
  </div>

  <div class="btn-container">
    <button class="btn" onclick="addNewRow()">➕ إضافة التزام جديد</button>
    <button class="btn" onclick="window.print()">🖨️ طباعة</button>
  </div>
</div>

<script>
  function calculateTotals() {
    const rows = document.querySelectorAll("#commitmentsTable tbody tr");
    let total = 0;

    rows.forEach(row => {
      const amountInput = row.cells[1].querySelector("input");
      const paid = row.cells[2].querySelector("select").value;
      const amount = parseFloat(amountInput.value) || 0;
      if (paid === "TRUE") total += amount;
    });

    const salary = parseFloat(document.getElementById("salaryInput").value) || 0;
    const net = salary - total;

    document.getElementById("total").textContent = total.toFixed(2);
    document.getElementById("net").textContent = net.toFixed(2);
  }

  function addNewRow() {
    const tbody = document.querySelector("#commitmentsTable tbody");
    const row = document.createElement("tr");

    row.innerHTML = `
      <td><input type="text" placeholder="نوع الالتزام"></td>
      <td><input type="number" value="0" min="0" onchange="calculateTotals()"></td>
      <td>
        <select onchange="calculateTotals()">
          <option value="TRUE">TRUE</option>
          <option value="FALSE">FALSE</option>
        </select>
      </td>
    `;

    tbody.appendChild(row);
  }

  // تشغيل الحساب عند بدء الصفحة
  calculateTotals();
</script>

</body>
</html>
